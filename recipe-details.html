<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Delight - Recipe Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="styles.css" rel="stylesheet">
</head>
<body class="bg-cream font-sans">
  <!-- Navbar -->
  <nav class="navbar text-white p-4 sticky top-0 z-10 bg-green-700">
    <div class="container mx-auto flex justify-between items-center">
      <a href="index.html" class="text-3xl font-bold">Food Delight</a>
      <div class="space-x-6">
        <a href="index.html" class="hover:underline">Home</a>
        <a href="recipes.html" class="hover:underline">Recipes</a>
        <a href="favorites.html" class="hover:underline">Favorites</a>
        <a href="login.html" class="hover:underline">Login</a>
        <a href="signup.html" class="hover:underline">Signup</a>
      </div>
    </nav>

  <!-- Recipe Details Section -->
  <section class="py-12">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center mb-4">
        <a href="recipes.html" class="text-yellow-600 hover:text-yellow-700 text-lg">&lt; Back to Recipes</a>
        <button id="favoriteBtn" class="text-yellow-600 hover:text-yellow-700 text-lg flex items-center">
          <svg id="favoriteIcon" class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
          <span id="favoriteText">Add to Favorites</span>
        </button>
      </div>

      <!-- Recipe Header -->
      <div class="relative mb-8" id="recipeHeader"></div>

      <!-- Recipe Metadata -->
      <div class="flex justify-between items-center mb-8 bg-white p-4 rounded-lg shadow-md" id="recipeMetadata"></div>

      <!-- Ingredients and Instructions -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="bg-white p-6 rounded-lg shadow-md" id="ingredientsList"></div>
        <div class="bg-white p-6 rounded-lg shadow-md" id="instructionsList"></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer py-8 bg-green-700 text-white">
    <div class="container mx-auto text-center">
      <p>© 2025 Food Delight. All rights reserved.</p>
    </div>
  </footer>

  <script>
    let timer;
    let timeLeft = 30 * 60;

    const recipes = {
      'paneer-tikka': {
        name: 'Paneer Tikka',
        description: 'Juicy, spiced paneer cubes grilled to perfection with a smoky flavor.',
        image: 'https://images.pexels.com/photos/20395267/pexels-photo-20395267/free-photo-of-a-dish-with-green-sauce-on-the-side.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
        meal: 'Dinner',
        cookTime: '30 min',
        servings: 4,
        ingredients: [
          '400g paneer, cubed',
          '1 cup yogurt',
          '2 tbsp ginger-garlic paste',
          '1 tbsp tandoori masala',
          '1 tsp turmeric powder',
          'Salt and pepper to taste',
          '2 tbsp oil',
          'Fresh cilantro for garnish'
        ],
        instructions: [
          'Marinate the paneer cubes with yogurt, ginger-garlic paste, tandoori masala, turmeric, salt, and pepper for 30 minutes.',
          'Preheat a grill or skillet with oil over medium heat.',
          'Thread the marinated paneer onto skewers and grill for 10-15 minutes, turning occasionally, until charred and cooked.',
          'Remove from heat and garnish with fresh cilantro.',
          'Serve hot with mint chutney or naan.'
        ]
      },
      'vegetable-pasta': {
        name: 'Vegetable Pasta',
        description: 'Creamy Italian pasta with fresh veggies.',
        image: 'https://images.pexels.com/photos/6248844/pexels-photo-6248844.jpeg?auto=compress&cs=tinysrgb&w=600',
        meal: 'Lunch',
        cookTime: '20 min',
        servings: 3,
        ingredients: [
          '200g pasta',
          '1 cup broccoli',
          '1 cup zucchini',
          '1/2 cup cream',
          '2 tbsp olive oil',
          'Salt and pepper to taste',
          'Grated parmesan'
        ],
        instructions: [
          'Cook pasta according to package instructions.',
          'Sauté broccoli and zucchini in olive oil.',
          'Add cream and season with salt and pepper.',
          'Mix in cooked pasta and top with parmesan.',
          'Serve warm.'
        ]
      },
      'falafel-wrap': {
        name: 'Falafel Wrap',
        description: 'Middle Eastern chickpea patties in a wrap.',
        image: 'https://images.pexels.com/photos/31631255/pexels-photo-31631255/free-photo-of-delicious-wraps-with-fresh-salad-on-plate.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
        meal: 'Dinner',
        cookTime: '25 min',
        servings: 2,
        ingredients: [
          '1 cup chickpeas (soaked)',
          '1/2 onion',
          '2 garlic cloves',
          '1 tsp cumin',
          'Salt to taste',
          '2 wraps',
          'Tahini sauce'
        ],
        instructions: [
          'Blend chickpeas, onion, garlic, cumin, and salt into a paste.',
          'Form into patties and fry until golden.',
          'Place in wraps with tahini sauce.',
          'Serve with fresh veggies.'
        ]
      },
      'dal-tadka': {
        name: 'Dal Tadka',
        description: 'Spiced Indian lentil curry.',
        image: 'https://images.pexels.com/photos/30203314/pexels-photo-30203314/free-photo-of-delicious-indian-dal-tadka-in-brass-bowl.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
        meal: 'Dinner',
        cookTime: '40 min',
        servings: 4,
        ingredients: [
          '1 cup lentils',
          '1 onion',
          '2 tomatoes',
          '1 tbsp ginger-garlic paste',
          '1 tsp turmeric',
          '2 tbsp ghee',
          'Cilantro'
        ],
        instructions: [
          'Cook lentils with turmeric until soft.',
          'Sauté onion, tomatoes, and ginger-garlic paste in ghee.',
          'Add cooked lentils and simmer.',
          'Garnish with cilantro and serve.'
        ]
      },
      'margherita-pizza': {
        name: 'Margherita Pizza',
        description: 'A simple yet delicious Italian classic with fresh mozzarella, tomatoes, and basil.',
        image: 'https://images.pexels.com/photos/10068752/pexels-photo-10068752.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
        meal: 'Dinner',
        cookTime: '15 min',
        servings: 4,
        ingredients: [
          '1 pizza dough',
          '1/4 cup tomato sauce',
          '8 oz mozzarella, sliced',
          '1 large tomato, sliced',
          'Fresh basil leaves',
          '2 tbsp olive oil',
          'Salt and pepper to taste'
        ],
        instructions: [
          'Preheat oven to 475°F (245°C).',
          'Roll out the pizza dough on a floured surface.',
          'Spread tomato sauce evenly over the dough.',
          'Arrange mozzarella and tomato slices on top.',
          'Bake for 12-15 minutes until crust is golden.',
          'Remove from oven and top with fresh basil leaves.',
          'Drizzle with olive oil, season with salt and pepper.',
          'Slice and serve immediately.'
        ]
      },
      'hummus-plate': {
        name: 'Hummus Plate',
        description: 'Creamy chickpea dip with veggies.',
        image: 'https://images.pexels.com/photos/31599623/pexels-photo-31599623/free-photo-of-person-enjoying-fresh-hummus-with-bread-at-cafe.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
        meal: 'Snack',
        cookTime: '10 min',
        servings: 2,
        ingredients: [
          '1 cup chickpeas',
          '2 tbsp tahini',
          '1 garlic clove',
          '2 tbsp lemon juice',
          'Olive oil',
          'Veggies (carrots, cucumber)'
        ],
        instructions: [
          'Blend chickpeas, tahini, garlic, and lemon juice.',
          'Add olive oil until smooth.',
          'Serve with fresh veggies.'
        ]
      },
      'aloo-gobi': {
        name: 'Aloo Gobi',
        description: 'Indian potato and cauliflower curry.',
        image: 'https://media.istockphoto.com/id/450469817/photo/gobi-aloo-indian-curry-dish.jpg?s=1024x1024&w=is&k=20&c=eELxKgpaoL51-mmmNe7mcOaaFQc5eZEL66TTmzJwAUM=',
        meal: 'Dinner',
        cookTime: '35 min',
        servings: 4,
        ingredients: [
          '2 potatoes',
          '1 cauliflower',
          '1 onion',
          '1 tsp cumin seeds',
          '1 tbsp turmeric',
          'Salt to taste',
          '2 tbsp oil'
        ],
        instructions: [
          'Chop potatoes and cauliflower.',
          'Sauté onion and cumin seeds in oil.',
          'Add potatoes, cauliflower, turmeric, and salt.',
          'Cook until tender, about 30 minutes.'
        ]
      },
      'mushroom-risotto': {
        name: 'Mushroom Risotto',
        description: 'Creamy Italian rice dish.',
        image: 'https://media.istockphoto.com/id/1369183332/photo/risotto-with-brown-champignon-mushrooms.jpg?s=1024x1024&w=is&k=20&c=xRyu6oR1qIqaQbfJgDKuHa4q_Z4WeADLGmS7PC3UF_Q=',
        meal: 'Dinner',
        cookTime: '40 min',
        servings: 3,
        ingredients: [
          '1 cup Arborio rice',
          '2 cups mushrooms',
          '1 onion',
          '2 tbsp butter',
          '4 cups broth',
          'Parmesan cheese'
        ],
        instructions: [
          'Sauté mushrooms and onion in butter.',
          'Add rice and stir for 2 minutes.',
          'Gradually add broth, stirring until absorbed.',
          'Finish with parmesan and serve.'
        ]
      },
      'greek-salad': {
        name: 'Greek Salad',
        description: 'Fresh veggies with feta and olives.',
        image: 'https://media.istockphoto.com/id/1461256163/photo/feta-cheese-salad-on-wooden-table.jpg?s=1024x1024&w=is&k=20&c=TyTysWp-pUkObnKSdS4V-EvLhGtFmZVk6iV9ODj8gEU=',
        meal: 'Lunch',
        cookTime: '10 min',
        servings: 2,
        ingredients: [
          '1 cucumber',
          '1 tomato',
          '1/2 red onion',
          '1/2 cup feta',
          '10 olives',
          '2 tbsp olive oil',
          'Lemon juice'
        ],
        instructions: [
          'Chop cucumber, tomato, and onion.',
          'Mix with feta and olives.',
          'Drizzle with olive oil and lemon juice.',
          'Serve fresh.'
        ]
      },
      'chole-masala': {
        name: 'Chole Masala',
        description: 'Spicy Indian chickpea curry.',
        image: 'https://media.istockphoto.com/id/669466116/photo/spicy-chick-peas-curry-or-chola-masala-or-chana-masala-or-chole-bhature-or-choley-garnished.jpg?s=1024x1024&w=is&k=20&c=KHYzsvWoyNFWL8XLFYflP1o7eHtx7i7zPVBjBKKy_KM=',
        meal: 'Dinner',
        cookTime: '40 min',
        servings: 4,
        ingredients: [
          '2 cups chickpeas',
          '1 onion',
          '2 tomatoes',
          '1 tbsp ginger-garlic paste',
          '2 tsp garam masala',
          'Salt to taste',
          '2 tbsp oil'
        ],
        instructions: [
          'Cook chickpeas until soft.',
          'Sauté onion, tomatoes, and ginger-garlic paste.',
          'Add chickpeas, garam masala, and salt.',
          'Simmer for 20 minutes and serve.'
        ]
      },
      'tomato-bruschetta': {
        name: 'Tomato Bruschetta',
        description: 'Italian toasted bread with tomato topping.',
        image: 'https://media.istockphoto.com/id/1181611076/photo/homemade-italian-bruschetta-on-rustic-wooden-table.jpg?s=1024x1024&w=is&k=20&c=q5VL1-Xp9BwU9_UmNqUb_1jDxzNteKLLkAan4puvM4A=',
        meal: 'Snack',
        cookTime: '15 min',
        servings: 2,
        ingredients: [
          '4 slices bread',
          '2 tomatoes',
          '1 garlic clove',
          '2 tbsp olive oil',
          'Fresh basil',
          'Salt to taste'
        ],
        instructions: [
          'Toast bread slices until golden.',
          'Rub with garlic and drizzle with olive oil.',
          'Top with chopped tomatoes and basil.',
          'Sprinkle with salt and serve.'
        ]
      },
      'quinoa-salad': {
        name: 'Quinoa Salad',
        description: 'Healthy salad with quinoa and veggies.',
        image: 'https://media.istockphoto.com/id/638197896/photo/healthy-organic-quinoa-tabouli-salad.jpg?s=1024x1024&w=is&k=20&c=YNtiz2og4gtw50uqRuReCMV8lz8IZyeH2Sq8QFN6BWc=',
        meal: 'Lunch',
        cookTime: '20 min',
        servings: 2,
        ingredients: [
          '1 cup quinoa',
          '1 cucumber',
          '1 tomato',
          '1/4 cup feta',
          '2 tbsp olive oil',
          'Lemon juice',
          'Salt to taste'
        ],
        instructions: [
          'Cook quinoa according to package instructions.',
          'Chop cucumber and tomato.',
          'Mix quinoa, veggies, and feta.',
          'Drizzle with olive oil and lemon juice, season with salt.',
          'Serve chilled.'
        ]
      }
    };

    // Get recipe from URL parameter
    const urlParams = new URLSearchParams(window.location.search);
    const recipeId = urlParams.get('recipe');
    const recipe = recipes[recipeId];

    if (recipe) {
      document.getElementById('recipeHeader').innerHTML = `
        <img src="${recipe.image}" alt="${recipe.name}" class="w-full h-96 object-cover rounded-lg shadow-lg">
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent rounded-lg"></div>
        <div class="absolute bottom-4 left-4 text-white">
          <h1 class="text-4xl md:text-5xl font-bold">${recipe.name}</h1>
          <p class="text-lg md:text-xl">${recipe.description}</p>
        </div>
      `;

      document.getElementById('recipeMetadata').innerHTML = `
        <div class="flex space-x-6 text-gray-700">
          <div class="text-center">
            <span class="block text-sm md:text-base">Meal</span>
            <span class="block text-lg md:text-xl font-semibold text-green-600">${recipe.meal}</span>
          </div>
          <div class="text-center">
            <span class="block text-sm md:text-base">Cook Time</span>
            <span class="block text-lg md:text-xl font-semibold text-yellow-600">${recipe.cookTime}</span>
          </div>
          <div class="text-center">
            <span class="block text-sm md:text-base">Servings</span>
            <span class="block text-lg md:text-xl font-semibold text-green-600">${recipe.servings}</span>
          </div>
        </div>
        <button id="startTimerBtn" class="bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600 transition duration-300 shadow-md">Start Cooking Timer</button>
      `;

      const ingredientsHTML = recipe.ingredients.map((ing, index) => `
        <li class="flex items-center">
          <input type="checkbox" id="ing${index + 1}" class="mr-2 accent-green-600">
          <label for="ing${index + 1}" class="text-base md:text-lg">${ing}</label>
        </li>
      `).join('');
      document.getElementById('ingredientsList').innerHTML = `
        <h2 class="text-2xl md:text-3xl font-semibold mb-4 text-green-600">Ingredients</h2>
        <ul class="space-y-2">${ingredientsHTML}</ul>
      `;

      const instructionsHTML = recipe.instructions.map((inst, index) => `
        <li class="flex items-start">
          <input type="checkbox" id="inst${index + 1}" class="mr-2 mt-1 accent-green-600">
          <span class="text-base md:text-lg">${inst}</span>
        </li>
      `).join('');
      document.getElementById('instructionsList').innerHTML = `
        <h2 class="text-2xl md:text-3xl font-semibold mb-4 text-green-600">Instructions</h2>
        <ol class="space-y-4 list-decimal list-inside">${instructionsHTML}</ol>
      `;

      const timeParts = recipe.cookTime.match(/(\d+)\s*min/);
      timeLeft = timeParts ? parseInt(timeParts[1]) * 60 : 30 * 60;

      document.getElementById('startTimerBtn').addEventListener('click', function() {
        if (!timer) {
          timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            this.textContent = `Timer: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeLeft <= 0) {
              clearInterval(timer);
              this.textContent = 'Cooking Done!';
              timer = null;
            }
          }, 1000);
        }
      });
    } else {
      document.getElementById('recipeHeader').innerHTML = '<h1 class="text-4xl md:text-5xl font-bold text-center text-red-600">Recipe Not Found</h1>';
    }

    // Favorites functionality
    const favoriteBtn = document.getElementById('favoriteBtn');
    const favoriteIcon = document.getElementById('favoriteIcon');
    const favoriteText = document.getElementById('favoriteText');

    function updateFavoriteButton() {
      const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
      const isFavorited = favorites.includes(recipeId);
      favoriteIcon.setAttribute('fill', isFavorited ? 'currentColor' : 'none');
      favoriteText.textContent = isFavorited ? 'Remove from Favorites' : 'Add to Favorites';
    }

    if (recipeId && recipe) {
      updateFavoriteButton();
      favoriteBtn.addEventListener('click', function() {
        let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
        if (favorites.includes(recipeId)) {
          favorites = favorites.filter(id => id !== recipeId);
        } else {
          favorites.push(recipeId);
        }
        localStorage.setItem('favorites', JSON.stringify(favorites));
        updateFavoriteButton();
      });
    }
  </script>
</body>
</html>